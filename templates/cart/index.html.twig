{% extends 'base.html.twig' %}

{% block title %}Hello CartController!
{% endblock %}

{% block body %}
    <div class="bg-light p-3">
        <h1>Votre panier</h1>
    </div>
    {%  if panier | length > 0 %}
    <table class="table table-striped">
        <thead>
            <tr>
                <td>Titre</td>
                <td>image</td>
                <td>prix</td>
                <td>Quantit√©</td>
                <td>Total</td>
                <td></td>
            </tr>
        </thead>
        <tbody>
            {% for p in panier %}
            <tr>
                <td >{{ p.pr.title }}</td>
                <td><img height = "30px" width = "30px" src="images/produit.jpg" alt="" class="src"></td>
                <td>{{ p.pr.price }}</td>
                <td>{{ p.qantity }}</td>
                <td>{{ p.qantity * p.pr.price }}</td>

                <td><a href="{{ path("panier_remove" , {id : p.pr.id})}}" class="btn btn-danger btn-sm"><i class="fas fa-trash-alt"></i></a></td>
            </tr>
            {% endfor %}	
        </tbody>
        <tfooter></tfooter>
        <td colspan="4" class="text-right text-primary">Total : </td>
        <td>{{ total }}</td>
    </table>
    {% else %}
    <p>Surprise, c'est vide !</p>
    {% endif %}

    {% endblock %}
